{
  "name": "AIPWmeasures",
  "tagline": "Estimate measures of predictive accuracy using augmented inverse probability weights for two-phase biomarker validation studies",
  "body": "October 13, 2016  \r\n\r\n## AIPWmeasures\r\n\r\nThis package includes a function `AIPWmeasures` that calculates standard measures of predictive accuracy commonly used in biomarker validation studies. More specifically, this function calculates estimates using data from two-phase sampling designs ('case-cohort' and 'nested case-control') using two different methods, a standard ipw estimator (true ipw) and a novel method (augmented ipw) that has been shown to be more efficient in some contexts. See the manuscript \"Improving Efficiency in Biomarker Incremental Value Evaluation under Two-phase Study Designs\" by Zheng et. al. for more details.\r\n\r\n## Install the package \r\n\r\nYou can install the development version of the package directly from github using the R package `devtools`. The package will be added to CRAN after further testing. \r\n\r\n```r\r\nif (!require(\"devtools\")) install.packages(\"devtools\")\r\ndevtools::install_github(\"AIPWmeasures\", \"mdbrown\")\r\n```\r\n\r\n## Quick Example \r\n\r\n\r\n```r\r\nlibrary(AIPWmeasures)\r\ndata(CCHsimdata)\r\n\r\npredict.time <- 0.75\r\n\r\n## augmented ipw\r\nAIPWmeasures( time = CCHsimdata$xi, event = CCHsimdata$di,\r\n              X = cbind(CCHsimdata$y1, CCHsimdata$y2),\r\n               subcohort = CCHsimdata$vi,\r\n                   aug.weights.x =   CCHsimdata$y1,\r\n                   risk.threshold  =  c(.05, .3),\r\n                   landmark.time = predict.time,\r\n                   weight.method = 'Aug',\r\n                   design = \"CCH\",\r\n                   smoothing.par = 0.9,\r\n                   calculate.sd  = TRUE,\r\n                   pnf.threshold = 0.85,\r\n                   pcf.threshold = 0.8)\r\n```\r\n\r\n```\r\n##    measure threshold   estimate          sd\r\n## 1  coef.x1        NA 1.05978364 0.145055914\r\n## 2  coef.x2        NA 0.71931257 0.142795037\r\n## 3      AUC        NA 0.87401754 0.009552598\r\n## 4      IDI        NA 0.35754277 0.024312293\r\n## 5     ITPR        NA 0.46734730 0.022720905\r\n## 6     IFPR        NA 0.10980453 0.007838267\r\n## 7      TPR      0.05 0.95288855 0.006929574\r\n## 8      FPR      0.05 0.53276478 0.041303221\r\n## 9      PPV      0.05 0.26937735 0.013421904\r\n## 10     NPV      0.05 0.97963812 0.002090129\r\n## 11     TPR      0.30 0.62682586 0.030088946\r\n## 12     FPR      0.30 0.09445823 0.010898073\r\n## 13     PPV      0.30 0.57769278 0.018163560\r\n## 14     NPV      0.30 0.92170129 0.006369866\r\n## 15     PCF      0.80 0.65228402 0.022046510\r\n## 16     PNF      0.85 0.61286419 0.022557534\r\n## 17      NB      0.05 0.13960886          NA\r\n## 18      NB      0.30 0.07356653          NA\r\n```\r\n\r\n```r\r\n# true ipw\r\nAIPWmeasures( time = CCHsimdata$xi, event = CCHsimdata$di,\r\n              X = cbind(CCHsimdata$y1, CCHsimdata$y2),\r\n              subcohort = CCHsimdata$vi,\r\n              #aug.weights.x =   CCHsimdata$y1,\r\n              risk.threshold  =  c(.05, .3),\r\n              landmark.time = predict.time,\r\n              weight.method = 'True',\r\n              design = \"CCH\",\r\n              smoothing.par = 0.9,\r\n              calculate.sd  = TRUE,\r\n              pnf.threshold = 0.85,\r\n              pcf.threshold = 0.8,\r\n              ncc.nmatch = 2)\r\n```\r\n\r\n```\r\n##    measure threshold   estimate          sd\r\n## 1  coef.x1        NA 1.18479929 0.163974680\r\n## 2  coef.x2        NA 0.66773798 0.140826774\r\n## 3      AUC        NA 0.88616251 0.011032333\r\n## 4      IDI        NA 0.38700949 0.029590607\r\n## 5     ITPR        NA 0.49032068 0.026694264\r\n## 6     IFPR        NA 0.10331119 0.008204509\r\n## 7      TPR      0.05 0.95150194 0.005591640\r\n## 8      FPR      0.05 0.49785154 0.043204502\r\n## 9      PPV      0.05 0.27922295 0.014815301\r\n## 10     NPV      0.05 0.98079949 0.001857965\r\n## 11     TPR      0.30 0.64722244 0.031923770\r\n## 12     FPR      0.30 0.08794821 0.011257735\r\n## 13     PPV      0.30 0.59865952 0.023809816\r\n## 14     NPV      0.30 0.92729881 0.006711179\r\n## 15     PCF      0.80 0.67823896 0.025454076\r\n## 16     PNF      0.85 0.63985556 0.026438899\r\n## 17      NB      0.05 0.13857292          NA\r\n## 18      NB      0.30 0.07773870          NA\r\n```\r\n\r\n```r\r\n#simulated data from a ncc design with nmatch = 2\r\ndata(\"NCCsimdata\")\r\nAIPWmeasures( time = NCCsimdata$xi, event = NCCsimdata$di,\r\n                    X = cbind(NCCsimdata$y1, NCCsimdata$y2),\r\n                    subcohort = NCCsimdata$vi,\r\n                    aug.weights.x =   NCCsimdata$y1,\r\n                    risk.threshold  =  c(.01, .03),\r\n                    landmark.time = predict.time,\r\n                    weight.method = 'Aug',\r\n                    design = \"NCC\",\r\n                    smoothing.par = 0.9,\r\n                    calculate.sd  = TRUE,\r\n                    pnf.threshold = 0.85,\r\n                    pcf.threshold = 0.8,\r\n                    ncc.nmatch = 2)\r\n```\r\n\r\n```\r\n##    measure threshold   estimate          sd\r\n## 1  coef.x1        NA 0.71388346 0.208118358\r\n## 2  coef.x2        NA 1.15691575 0.271633156\r\n## 3      AUC        NA 0.88616115 0.020995366\r\n## 4      IDI        NA 0.18682668 0.113202687\r\n## 5     ITPR        NA 0.20556047 0.114756791\r\n## 6     IFPR        NA 0.01873379 0.009894893\r\n## 7      TPR      0.01 0.89471342 0.022890509\r\n## 8      FPR      0.01 0.32808139 0.065253683\r\n## 9      PPV      0.01 0.05820036 0.010594222\r\n## 10     NPV      0.01 0.99646180 0.008799836\r\n## 11     TPR      0.03 0.76411311 0.076181378\r\n## 12     FPR      0.03 0.16240075 0.037477153\r\n## 13     PPV      0.03 0.09634659 0.017867684\r\n## 14     NPV      0.03 0.99365883 0.008587344\r\n## 15     PCF      0.80 0.79915680 0.038859288\r\n## 16     PNF      0.85 0.73365163 0.044845399\r\n## 17      NB      0.01 0.01658467          NA\r\n## 18      NB      0.03 0.01201992          NA\r\n```\r\n\r\n```r\r\n#true ipw\r\nAIPWmeasures( time = NCCsimdata$xi, event = NCCsimdata$di,\r\n                    X = cbind(NCCsimdata$y1, NCCsimdata$y2),\r\n                    subcohort = NCCsimdata$vi,\r\n                    risk.threshold  =  c(.01, .03),\r\n                    landmark.time = predict.time,\r\n                    weight.method = 'True',\r\n                    design = \"NCC\",\r\n                    smoothing.par = 0.9,\r\n                    calculate.sd  = TRUE,\r\n                    pnf.threshold = 0.85,\r\n                    pcf.threshold = 0.8,\r\n                    ncc.nmatch = 2)\r\n```\r\n\r\n```\r\n##    measure threshold   estimate           sd\r\n## 1  coef.x1        NA 0.47387905 0.3277693989\r\n## 2  coef.x2        NA 1.27659158 0.3174745046\r\n## 3      AUC        NA 0.87132718 0.0261367899\r\n## 4      IDI        NA 0.15487564 0.0640699239\r\n## 5     ITPR        NA 0.17521745 0.0634192962\r\n## 6     IFPR        NA 0.02034181 0.0036090417\r\n## 7      TPR      0.01 0.89313631 0.0271053204\r\n## 8      FPR      0.01 0.36187459 0.0745445204\r\n## 9      PPV      0.01 0.05484130 0.0093359570\r\n## 10     NPV      0.01 0.99607842 0.0008082396\r\n## 11     TPR      0.03 0.73906260 0.0736501276\r\n## 12     FPR      0.03 0.16633111 0.0592791358\r\n## 13     PPV      0.03 0.09458037 0.0269468452\r\n## 14     NPV      0.03 0.99269531 0.0019549727\r\n## 15     PCF      0.80 0.76516131 0.0581184633\r\n## 16     PNF      0.85 0.70053556 0.0633486323\r\n## 17      NB      0.01 0.01694355           NA\r\n## 18      NB      0.03 0.01194980           NA\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}